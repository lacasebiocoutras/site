define(["jquery","bootstrap","jqBootstrapValidation"],function(e){e(function(){e("#contactForm input,#contactForm textarea").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,s,t){},submitSuccess:function(s,t){t.preventDefault();var a={},n={},r=grecaptcha.getResponse(),c=new Date,o=c.getFullYear().toString()+"-",i=c.getMonth();i++,i<10&&(o+="0"),o+=i.toString(),o+="-lcb";var l=!1,u=" désinscription";e("input#subscribe").is(":checked")&&(l=!0,u=" inscription"),a.name=e("input#name").val(),a.email=e("input#email").val(),a.message=e("textarea#message").val(),a.subscribe=l,n.slug=o,n.parent="newsletter-lcb",n.origin="https://lacasebiocoutras.github.io/",n.gotcha=e("input#gotcha").val();var p=a.name;p.indexOf(" ")>=0&&(p=name.split(" ").slice(0,-1).join(" ")),e("#success").html("<div class='alert alert-info'>"),e("#success > .alert-info").html("<i class='fa fa-spinner fa-pulse fa-3x fa-fw'></i>").append("</i>"),e("#success > .alert-info").append('<span class="sr-only">'),e("#success > .alert-info").append("<strong>Attente réponse serveur </strong>"),e("#success > .alert-info").append("</span>"),e("#success > .alert-info").append("</div>"),e.ajax({url:"https://sleepy-retreat-12152.herokuapp.com/v2/entry/id2m/staticman-receipt-lacasebiocoutras/staticman_data/comments",type:"POST",dataType:"text",data:{fields:a,options:n,"g-recaptcha-response":r},cache:!1,success:function(){e("#success").html("<div class='alert alert-success'>"),e("#success > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),e("#success > .alert-success").append("<strong> "),e("#success > .alert-success").append("Votre "+u),e("#success > .alert-success").append(" a bien été enregistrée!"),e("#success > .alert-success").append("</strong>"),e("#success > .alert-success").append("</div>"),e("#contactForm").trigger("reset")},error:function(){e("#success").html("<div class='alert alert-danger'>"),e("#success > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),e("#success > .alert-danger").append("<strong>Désolé "+p+", le serveur n'a pas validé votre requête. Vous pouvez renouveller la procèdure ultérieurement!"),e("#success > .alert-danger").append("</div>"),e("#contactForm").trigger("reset")}})},filter:function(){return e(this).is(":visible")}})}),e(function(){e("body").on("input propertychange",".floating-label-form-group",function(s){e(this).toggleClass("floating-label-form-group-with-value",!!e(s.target).val())}).on("focus",".floating-label-form-group",function(){e(this).addClass("floating-label-form-group-with-focus")}).on("blur",".floating-label-form-group",function(){e(this).removeClass("floating-label-form-group-with-focus")})})});